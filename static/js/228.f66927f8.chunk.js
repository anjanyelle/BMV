"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[228],{960:function(s,e,a){a.r(e),a.d(e,{default:function(){return j}});var n=a(4165),r=a(1413),t=a(5861),o=a(9439),c=a(9867),i=(a(9104),a(78),a(3533)),l=(a(6769),a(1973),a(9240)),d=a(5644),u=a(606),p=(a(8316),a(4670)),h=a(3433),g=a(2834);var m=function(){var s=(0,c.useState)(["","","","","",""]),e=(0,o.Z)(s,2),a=e[0],n=e[1],r=[];return(0,c.useEffect)((function(){localStorage.setItem("otp",a)}),[a]),(0,g.jsx)("div",{className:"otp-field",children:a.map((function(s,e){return(0,g.jsx)("input",{type:"text",maxLength:"1",value:s,onChange:function(s){return function(s,e){if(/^\d*$/.test(e)&&e.length<=1){var t=(0,h.Z)(a);t[s]=e,n(t),""!==e&&s<5&&r[s+1].focus()}}(e,s.target.value)},ref:function(s){return r.push(s)}},e)}))})},f=a(7041),x=a(8044),j=function(){(0,c.useRef)();var s=(0,c.useState)(!0),e=(0,o.Z)(s,2),a=e[0],h=e[1],j=(0,c.useState)(),N=(0,o.Z)(j,2),v=N[0],b=N[1],Z=(0,c.useState)({}),M=(0,o.Z)(Z,2),w=(M[0],M[1]),k=(0,c.useState)(""),S=(0,o.Z)(k,2),y=(S[0],S[1]),U=(0,c.useState)({successMessage:"",otp:"",errorMessage:"",otpdata:""}),C=(0,o.Z)(U,2),T=C[0],I=C[1],O=(0,p.s0)();(0,c.useEffect)((function(){(0,u.Z)({method:"get",url:"https://ipapi.co/json/"}).then((function(s){w(s.data)})).catch((function(s){console.log(s)})),(0,u.Z)({method:"get",url:"https://api.ipify.org/?format=json"}).then((function(s){y(s.data.ip)})).catch((function(s){console.log(s)}))}),[]);var F=function(){var s=(0,t.Z)((0,n.Z)().mark((function s(){return(0,n.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:(0,f.tR)(T.otpdata).then((function(s){console.log(s);var e=s.data.accessToken;if(console.log("Access Token: "+e),s)I((0,r.Z)((0,r.Z)({},T),{},{responsedata:s})),sessionStorage.setItem("accessToken",e),sessionStorage.setItem("userId",s.data.id),sessionStorage.setItem("tokenTime",s.data.tokenGeneratedTime),null!=e&&O("/dashboard");else if(400===s.response.status){var a=s.response.data.errorMessage;console.log("Error Message: "+a),I((0,r.Z)((0,r.Z)({},T),{},{errorMessage:s.response.data.errorMessage}))}}));case 2:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}(),E=function(){var s=(0,t.Z)((0,n.Z)().mark((function s(){return(0,n.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:(0,f.Zn)(v).then((function(s){console.log(s),200===s.request.status?(alert(""),console.log(s.data),h(!1),I((0,r.Z)((0,r.Z)({},T),{},{successMessage:"Otp Sent successfully",otpdata:s.data}))):(I((0,r.Z)((0,r.Z)({},T),{},{errorMessage:s.response.data.errorMessage})),(0,x.MX)(s.response.data.errorMessage),console.log(s.response.data.errorMessage))}));case 2:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"main-wrapper login-body",children:(0,g.jsx)("div",{className:"login-wrapper",children:(0,g.jsx)("div",{className:"container",children:(0,g.jsxs)("div",{className:"loginbox",children:[(0,g.jsx)("div",{className:"login-left",children:(0,g.jsx)("img",{className:"img-fluid  h-100",src:l.iL,alt:"Logo"})}),(0,g.jsx)("div",{className:"login-right",children:a?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"login-right-wrap",children:[(0,g.jsx)("h1",{children:"Welcome to Oxyloans"}),(0,g.jsxs)("p",{className:"account-subtitle",children:["Need an account? ",(0,g.jsx)(d.rU,{to:"/register",children:"Sign Up"})]}),(0,g.jsx)("h2",{children:"Sign in"}),(0,g.jsxs)("div",{className:"phoneinput form-group",children:[(0,g.jsxs)("label",{children:["Whatsapp number",(0,g.jsx)("span",{className:"login-danger",children:"*"})]}),(0,g.jsx)(i.ZP,{className:"phoneinputfiled form-control",value:v,onChange:b})]}),(0,g.jsx)("div",{className:"forgotpass",children:(0,g.jsx)(d.rU,{to:"/forgotpassword",children:"Forgot Password?"})}),(0,g.jsx)("div",{className:"form-group",children:(0,g.jsx)("button",{className:"btn btn-primary btn-block",type:"submit",onClick:E,children:"Send OTP"})}),(0,g.jsxs)("div",{className:"login-or",children:[(0,g.jsx)("span",{className:"or-line"}),(0,g.jsx)("span",{className:"span-or",children:"or"})]}),(0,g.jsx)("div",{className:"social-login",children:(0,g.jsx)(d.rU,{to:"/whatapplogin",children:(0,g.jsx)("i",{className:"fa fa-whatsapp"})})})]})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"login-right-wrap",children:[(0,g.jsx)("h1",{children:"Welcome to Oxyloans"}),(0,g.jsxs)("p",{className:"account-subtitle",children:["Need an account? ",(0,g.jsx)(d.rU,{to:"/register",children:"Sign Up"})]}),(0,g.jsx)("h2",{children:"Otp verification"}),(0,g.jsx)("div",{className:"texts",children:(0,g.jsx)(m,{})}),T.successMessage&&(0,g.jsxs)("div",{className:"errorMessage",children:[T.successMessage," "]}),T.errorMessage&&(0,g.jsxs)("div",{className:"errorMessage",children:[T.errorMessage," "]}),(0,g.jsx)("div",{className:"form-group",children:(0,g.jsx)("button",{className:"btn btn-primary btn-block mt-4",type:"submit",onClick:F,children:"Submit"})}),(0,g.jsxs)("div",{className:"login-or",children:[(0,g.jsx)("span",{className:"or-line"}),(0,g.jsx)("span",{className:"span-or",children:"or"})]}),(0,g.jsxs)("div",{className:"social-login",children:[(0,g.jsx)(d.rU,{to:"#",children:(0,g.jsx)("i",{className:"fab fa-google-plus-g"})}),(0,g.jsx)(d.rU,{to:"/whatapplogin",children:(0,g.jsx)("i",{className:"fa fa-whatsapp  "})}),(0,g.jsx)(d.rU,{to:"#",children:(0,g.jsx)("i",{className:"fab fa-facebook-f"})}),(0,g.jsx)(d.rU,{to:"#",children:(0,g.jsx)("i",{className:"fab fa-twitter"})})]})]})})})]})})})})})}}}]);
//# sourceMappingURL=228.f66927f8.chunk.js.map